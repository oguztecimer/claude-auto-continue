---
phase: 05-package-preparation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/cli.ts
autonomous: true
requirements:
  - META-01
  - META-02
  - META-03
  - META-04

must_haves:
  truths:
    - "package.json version reads exactly 1.0.0"
    - "package.json author reads exactly dakmor"
    - "package.json bin object has clac key and does NOT have cac key"
    - "package.json has repository, homepage, and bugs fields pointing to https://github.com/dakmor/claude-auto-continue"
    - "cli.ts help text references clac, not cac"
    - "npm run build succeeds after source changes"
  artifacts:
    - path: "package.json"
      provides: "Complete npm metadata for registry page"
      contains: "\"version\": \"1.0.0\""
    - path: "src/cli.ts"
      provides: "Updated help text with clac alias"
      contains: "clac"
    - path: "dist/cli.js"
      provides: "Rebuilt output reflecting cli.ts changes"
  key_links:
    - from: "package.json bin.clac"
      to: "bin/claude-auto-continue.js"
      via: "npm bin alias mapping"
      pattern: "\"clac\": \"bin/claude-auto-continue.js\""
    - from: "package.json repository.url"
      to: "https://github.com/dakmor/claude-auto-continue.git"
      via: "npm registry sidebar"
      pattern: "dakmor/claude-auto-continue\\.git"
---

<objective>
Edit package.json to set version 1.0.0, author "dakmor", rename the bin alias from `cac` to `clac`, and add repository/homepage/bugs fields. Update the cli.ts help text to reference `clac` instead of `cac`. Rebuild.

Purpose: The package must have correct metadata before npm publish. The `cac` bin alias collides with the popular `cac` CLI framework on npm — renaming to `clac` before first publish avoids a permanent collision. After publish, changing a bin alias requires a major version bump.

Output: Updated package.json, updated src/cli.ts, rebuilt dist/cli.js
</objective>

<execution_context>
@/Users/dakmor/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dakmor/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-package-preparation/05-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update package.json metadata fields</name>
  <files>package.json</files>
  <action>
Edit package.json to make these exact changes:

1. Change `"version": "0.1.0"` to `"version": "1.0.0"`
2. Change `"author": ""` to `"author": "dakmor"`
3. In the `"bin"` object, remove the `"cac": "bin/claude-auto-continue.js"` entry and add `"clac": "bin/claude-auto-continue.js"` in its place. Keep the `"claude-auto-continue"` entry unchanged. Final bin object:
   ```json
   "bin": {
     "claude-auto-continue": "bin/claude-auto-continue.js",
     "clac": "bin/claude-auto-continue.js"
   }
   ```
4. Add three new top-level fields after the `"license"` field:
   ```json
   "repository": {
     "type": "git",
     "url": "https://github.com/dakmor/claude-auto-continue.git"
   },
   "homepage": "https://github.com/dakmor/claude-auto-continue#readme",
   "bugs": {
     "url": "https://github.com/dakmor/claude-auto-continue/issues"
   }
   ```

Do NOT add README.md to the `files` array — npm includes README automatically.
Do NOT add `.npmignore` — the `files` whitelist handles exclusion (project decision).
  </action>
  <verify>
    <automated>node -e "const p=require('./package.json'); const ok = p.version==='1.0.0' && p.author==='dakmor' && p.bin.clac && !p.bin.cac && p.repository?.url?.includes('dakmor/claude-auto-continue.git') && p.homepage?.includes('#readme') && p.bugs?.url?.includes('/issues'); if(!ok) { console.error('FAIL: metadata check'); process.exit(1); } console.log('PASS: all metadata fields correct');"</automated>
  </verify>
  <done>package.json has version 1.0.0, author "dakmor", bin alias "clac" (not "cac"), and repository/homepage/bugs fields pointing to the GitHub repo</done>
</task>

<task type="auto">
  <name>Task 2: Update cli.ts help text and rebuild</name>
  <files>src/cli.ts</files>
  <action>
In `src/cli.ts`, update the `showHelp()` function to replace all references to the `cac` alias with `clac`. Specifically change these lines in the help text string:

- `  cac [options] [-- claude-code-args...]` becomes `  clac [options] [-- claude-code-args...]`
- `  cac -- --resume                       Short alias, pass --resume to Claude Code` becomes `  clac -- --resume                       Short alias, pass --resume to Claude Code`

There are exactly two occurrences of `cac` in the help text (both in the USAGE and EXAMPLES sections). Change both to `clac`.

After editing, run `npm run build` to recompile TypeScript to dist/.

Verify the built output reflects the change by checking `dist/cli.js` contains "clac" and does not contain the standalone word "cac" as a command alias.
  </action>
  <verify>
    <automated>npm run build && grep -q "clac" dist/cli.js && ! grep -w "cac" dist/cli.js >/dev/null 2>&1 && echo "PASS: cli.js updated with clac" || echo "FAIL: cli.js still references cac"</automated>
  </verify>
  <done>Help text in src/cli.ts and dist/cli.js shows "clac" everywhere instead of "cac". Build succeeds.</done>
</task>

</tasks>

<verification>
Run all checks to confirm package.json and help text are correct:

```bash
# 1. Verify package.json metadata
node -e "const p=require('./package.json'); console.log('version:', p.version); console.log('author:', p.author); console.log('bin:', JSON.stringify(p.bin)); console.log('repo:', p.repository?.url); console.log('homepage:', p.homepage); console.log('bugs:', p.bugs?.url);"

# 2. Verify help text shows clac
node dist/cli.js --help | grep -q "clac" && echo "PASS: help shows clac" || echo "FAIL"

# 3. Verify tests still pass
npm test
```
</verification>

<success_criteria>
- `package.json` version is `1.0.0`, author is `"dakmor"`, bin has `clac` (not `cac`), repository/homepage/bugs point to GitHub
- `node dist/cli.js --help` prints help text referencing `clac` as the short alias
- `npm test` passes (existing tests unbroken)
</success_criteria>

<output>
After completion, create `.planning/phases/05-package-preparation/05-01-SUMMARY.md`
</output>
